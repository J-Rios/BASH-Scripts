#!/usr/bin/env bash

SCRIPT_NAME=`basename "$0"`
FILE_1=`basename "$1"`
FILE_2=`basename "$2"`
TMP_DIR="${HOME}/gitdiff/"

if [ $# -lt 2 ]; then
    echo "  You need to provide two files to be compared."
    echo "  Example:"
    echo "    ${SCRIPT_NAME} file_1.txt file_2.txt"
    echo ""
    exit 1
fi

rm -rf $TMP_DIR
mkdir -p $TMP_DIR

cp -a $1 $TMP_DIR
cp -a $2 $TMP_DIR

cd $TMP_DIR
git diff --color-words --no-index $FILE_1 $FILE_2
if [ $? -eq 0 ]; then
    echo "Both files are the same."
fi
cd $HOME

rm -rf $TMP_DIR

exit 0
